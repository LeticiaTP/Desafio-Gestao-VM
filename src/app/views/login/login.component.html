<main>
  <section class="saudacoes">
    <h1>VMonitora</h1>
    <h2>Bem-vindo(a)! ;)</h2>
    <p>Faça login para continuar.</p>
  </section>
  
  <section class="login">
    @if (possuiConta){
      <div class="login-box">
        <h2>Login</h2>
        <form class="form">
            <mat-form-field class="campos-formulario">
              <mat-label>Email</mat-label>
              <input type="email" matInput [formControl]="emailFormControl" [errorStateMatcher]="mensagemErroEmail"
                      placeholder="Ex. seuemail@provedor.com">
              @if (emailFormControl.hasError('email') && !emailFormControl.hasError('required')) {
                <mat-error>Formato inválido</mat-error>
              }
              @if (emailFormControl.hasError('required')) {
                <mat-error>Email é <strong>obrigatório</strong></mat-error>
              }
            </mat-form-field>
  
            <mat-form-field class="campos-formulario">
              <mat-label>Senha</mat-label>
              <input type="password" matInput [formControl]="senhaFormControl" [errorStateMatcher]="mensagemErroSenha">
              @if (emailFormControl.hasError('required')) {
                <mat-error>Senha é <strong>obrigatória</strong></mat-error>
              }
            </mat-form-field>
  
            <h3>Ainda não possui conta? <button (click)="possuiConta = false">Cadastre-se</button>.</h3>
            <input class="botao-login" type="submit" value="Login">
        </form>
      </div>  
    }

    @if (!possuiConta) {
      <div class="login-box">
        <h2>Cadastre-se</h2>
        <form class="form">
            <mat-form-field class="campos-formulario">
              <mat-label>Email</mat-label>
              <input type="email" matInput [formControl]="emailFormControl" [errorStateMatcher]="mensagemErroEmail"
                      placeholder="Ex. seuemail@provedor.com" name="email" [(ngModel)]="objetoFormCadastro.email">
              @if (emailFormControl.hasError('email') && !emailFormControl.hasError('required')) {
                <mat-error>Formato inválido</mat-error>
              }
              @if (emailFormControl.hasError('required')) {
                <mat-error>Email é <strong>obrigatório</strong></mat-error>
              }
            </mat-form-field>
  
            <mat-form-field class="campos-formulario">
              <mat-label>Usuário</mat-label>
              <input matInput [formControl]="usuarioFormControl" [errorStateMatcher]="mensagemErroUsuario" name="usuario" [(ngModel)]="objetoFormCadastro.usuario">
              @if (usuarioFormControl.hasError('usuario') && !usuarioFormControl.hasError('required')) {
                <mat-error>Formato inválido</mat-error>
              }
              @if (usuarioFormControl.hasError('required')) {
                <mat-error>Usuário é <strong>obrigatório</strong></mat-error>
              }
            </mat-form-field>

            <mat-form-field class="campos-formulario">
              <mat-label>Senha</mat-label>
              <input type="password" matInput [formControl]="senhaFormControl" [errorStateMatcher]="mensagemErroSenha" name="senha" [(ngModel)]="objetoFormCadastro.senha">
              @if (emailFormControl.hasError('required')) {
                <mat-error>Senha é <strong>obrigatória</strong></mat-error>
              }
            </mat-form-field>
            
            <h3>Já possui possui conta? <button (click)="possuiConta = true">Faça Login</button>.</h3>
            <input class="botao-login" type="submit" value="Cadastrar" (click)="cadastrar()">
        </form>
      </div>
    }

  </section>
</main>